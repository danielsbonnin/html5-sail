<html> 

	<head>
		<title>HTML5 CANVAS TEMPLATE</title> 
		<script type="text/javascript" src="lib/math.js" ></script>	
		<script type="text/javascript" src="wind.js" ></script>	
	</head>

	<body> 

	<canvas id="myCanvas" width="800" height="500" >
		fallback
	</canvas> 

	<script>

		function getMousePos(canvas, evt) {
			var rect = canvas.getBoundingClientRect();
			return {
				x: evt.clientX - rect.left,
				y: evt.clientY - rect.top
			} 
		};
		
		function doMouse(event)
		{
			var pos = getMousePos(can, event);
		}

		function doClick(event)
		{
			var pos = getMousePos(can, event);
		}



		function clearCanvas(event) {
			ctx.clearRect(0, 0, can.width, can.height);
			//make border
			ctx.strokeStyle = "#000000";
			ctx.strokeRect(0, 0, can.width, can.height);	
		}

		var can = document.getElementById("myCanvas");
		var ctx = can.getContext("2d");

		clearCanvas();

		windImage.onload = function() {
			windPatt = ctx.createPattern(windImage,'repeat');
			drawWind(ctx);
		}
		
		can.addEventListener("mousemove", doMouse, false);
		can.addEventListener("mousedown", doClick, false)

	</script>



</body>

</html>